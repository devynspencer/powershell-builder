<?xml version="1.0" encoding="utf-8"?>
<plasterManifest
    schemaVersion="1.1"
    templateType="Item"
    xmlns="http://www.microsoft.com/schemas/PowerShell/Plaster/v1"
    >
  <metadata>
    <name>BasicModule</name>
    <id>2fc4a26d-9404-4b53-8df8-8fbfa674577f</id>
    <version>0.0.0</version>
    <title>PowerShell Module Template (Basic)</title>
    <description>Used to generate a basic PowerShell module with modern build features and testing.</description>
    <author>Devyn Spencer</author>
    <tags>Module, Basic</tags>
  </metadata>
  <parameters>
    <parameter
        name="ModuleName"
        type="text"
        prompt="Enter the name of the module"
        />

    <parameter
        name="ModuleDescription"
        type="text"
        prompt="Enter a description of the module"
        />

    <parameter
        name="ModuleVersion"
        type="text"
        prompt="Enter the starting module version number"
        default="0.0.0"
        />

    <parameter
        name="ModuleAuthor"
        type="user-fullname"
        prompt="Enter the full name of the module author"
        store="text"
        />

    <parameter
        name="CompanyName"
        type="text"
        prompt="Enter a company/organization name to associate with the module"
        />

    <parameter
        name="PowerShellVersion"
        type="text"
        prompt="Enter the PowerShell version required by the module"
        default="5.1"
        />

    <parameter
        name="License"
        type="choice"
        prompt="Select a license (see http://choosealicense.com):"
        default="1"
        store="text"
        >
      <choice
          label="&amp;None"
          help="No license."
          value="None"
          />
      <choice
          label="&amp;MIT"
          help="Adds an MIT license file."
          value="MIT"
          />
    </parameter>

    <parameter
        name="Options"
        type="multichoice"
        prompt="Select one or more of the following tooling options:"
        default="1,2"
        store="text"
        >
      <choice
          label="&amp;None"
          help="No tooling options specified."
          value="None"
          />
      <choice
          label="Add &amp;Git .gitignore file"
          help="Adds a .gitignore file."
          value="Git"
          />
      <choice
          label="Add &amp;Pester test support"
          help="Adds test directory and Pester test for the module manifest file."
          value="Pester"
          />
      <choice
          label="Add PSScript&amp;Analyzer support"
          help="Adds script analysis support using PSScriptAnalyzer."
          value="PSScriptAnalyzer"
          />
      <choice
          label="Add p&amp;sake build script"
          help="Adds psake build script that generates the module directory for publishing to the PowerShell Gallery."
          value="psake"
          />
      <choice
          label="Add plat&amp;yPS help generation support"
          help="Adds help build support using platyPS."
          value="platyPS"
          />
    </parameter>

    <parameter
        name="Editor"
        type="choice"
        prompt="Select an editor for better integration and consistent formatting:"
        default="0"
        store="text"
        >
      <choice
          label="&amp;None"
          help="No editor specified."
          value="None"
          />
      <choice
          label="Visual Studio &amp;Code"
          help="Use Visual Studio Code."
          value="VSCode"
          />
    </parameter>
  </parameters>
  <content>
    <message>Building module [$PLASTER_PARAM_ModuleName] from template [$PLASTER_TemplatePath]</message>

    <newModuleManifest
        destination="${PLASTER_PARAM_ModuleName}\${PLASTER_PARAM_ModuleName}.psd1"
        rootModule="${PLASTER_PARAM_ModuleName}.psm1"
        moduleVersion="$PLASTER_PARAM_ModuleVersion"
        author="$PLASTER_PARAM_ModuleAuthor"
        companyName="$PLASTER_PARAM_CompanyName"
        description="$PLASTER_PARAM_ModuleDescription"
        powerShellVersion="$PLASTER_PARAM_PowerShellVersion"
        encoding="UTF8-NoBOM"
        />

    <file
        source="ModuleName.psm1"
        destination="${PLASTER_PARAM_ModuleName}\${PLASTER_PARAM_ModuleName}.psm1"
        />
    <message>Module generated at [$PLASTER_DestinationPath]</message>
  </content>
</plasterManifest>
